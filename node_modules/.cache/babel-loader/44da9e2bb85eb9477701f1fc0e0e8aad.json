{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { remove, extend } from '@syncfusion/ej2-base';\nimport { FreezeContentRender, FreezeRender } from './freeze-renderer';\nimport { VirtualContentRenderer, VirtualHeaderRenderer } from './virtual-content-renderer';\nimport { FreezeRowModelGenerator } from '../services/freeze-row-model-generator';\nimport * as events from '../base/constant';\n/**\n * VirtualFreezeRenderer is used to render the virtual table within the frozen table\n * @hidden\n */\n\nvar VirtualFreezeRenderer =\n/** @class */\nfunction (_super) {\n  __extends(VirtualFreezeRenderer, _super);\n\n  function VirtualFreezeRenderer(parent, locator) {\n    var _this = _super.call(this, parent, locator) || this;\n\n    _this.frzeeLoad = 1;\n    _this.serviceLoc = locator;\n    return _this;\n  }\n  /**\n   * @hidden\n   */\n\n\n  VirtualFreezeRenderer.prototype.renderTable = function () {\n    this.freezeRowGenerator = new FreezeRowModelGenerator(this.parent);\n    this.virtualRenderer = new VirtualContentRenderer(this.parent, this.serviceLoc);\n    this.virtualRenderer.setPanel(this.parent.getContent());\n    this.virtualRenderer.renderTable();\n    var virtualTable = this.parent.getContent().querySelector('.e-virtualtable');\n    var virtualTrack = this.parent.getContent().querySelector('.e-virtualtrack');\n    virtualTrack.style.position = '';\n    this.getFrozenContent().appendChild(virtualTable);\n    this.getFrozenContent().appendChild(virtualTrack);\n    var mTbl = virtualTable.cloneNode(true);\n    var mTblT = virtualTrack.cloneNode(true);\n    this.getMovableContent().appendChild(mTbl);\n    this.getMovableContent().appendChild(mTblT);\n    remove(this.getMovableContent().querySelector('colgroup'));\n    var colGroup = this.parent.getMovableVirtualHeader().querySelector('colgroup').cloneNode(true);\n    mTbl.firstElementChild.insertBefore(colGroup, mTbl.firstElementChild.querySelector('tbody'));\n    this.setTable(this.parent.element.querySelector('.e-frozencontent').querySelector('.e-table'));\n  };\n  /**\n   * @hidden\n   */\n\n\n  VirtualFreezeRenderer.prototype.appendContent = function (target, newChild, e) {\n    this.virtualRenderer.appendContent(target, newChild, e);\n  };\n  /**\n   * @hidden\n   */\n\n\n  VirtualFreezeRenderer.prototype.generateRows = function (data, notifyArgs) {\n    var virtualRows = this.virtualRenderer.vgenerator.generateRows(data, notifyArgs);\n    var arr = [];\n    arr = virtualRows.map(function (row) {\n      return extend({}, row);\n    });\n\n    if (!this.firstPageRecords) {\n      this.firstPageRecords = data;\n    }\n\n    var rows = this.freezeRowGenerator.generateRows(data, notifyArgs, arr);\n    return rows;\n  };\n  /**\n   * @hidden\n   */\n\n\n  VirtualFreezeRenderer.prototype.getRowByIndex = function (index) {\n    return this.virtualRenderer.getRowByIndex(index);\n  };\n  /**\n   * @hidden\n   */\n\n\n  VirtualFreezeRenderer.prototype.getMovableRowByIndex = function (index) {\n    return this.virtualRenderer.getMovableVirtualRowByIndex(index);\n  };\n  /**\n   * @hidden\n   */\n\n\n  VirtualFreezeRenderer.prototype.getMovableRows = function () {\n    return this.virtualRenderer.vgenerator.getRows();\n  };\n  /**\n   * @hidden\n   */\n\n\n  VirtualFreezeRenderer.prototype.getRows = function () {\n    return this.getMovableRows();\n  };\n  /**\n   * @hidden\n   */\n\n\n  VirtualFreezeRenderer.prototype.getColGroup = function () {\n    var mCol = this.parent.getMovableVirtualContent().querySelector('colgroup');\n    var fCol = this.parent.getFrozenVirtualContent().querySelector('colgroup');\n    var colGroup = this.isXaxis() ? mCol : fCol;\n    return colGroup;\n  };\n  /**\n   * @hidden\n   */\n\n\n  VirtualFreezeRenderer.prototype.getReorderedFrozenRows = function (args) {\n    var rows;\n    var bIndex = args.virtualInfo.blockIndexes;\n    var colIndex = args.virtualInfo.columnIndexes;\n    var page = args.virtualInfo.page;\n    args.virtualInfo.blockIndexes = [1, 2];\n    args.virtualInfo.page = 1;\n\n    if (!args.renderMovableContent) {\n      args.virtualInfo.columnIndexes = [];\n    }\n\n    var virtualRows = this.virtualRenderer.vgenerator.generateRows(this.firstPageRecords, args);\n    rows = this.splitReorderedRows(virtualRows);\n    args.virtualInfo.blockIndexes = bIndex;\n    args.virtualInfo.columnIndexes = colIndex;\n    args.virtualInfo.page = page;\n    return rows.splice(0, this.parent.frozenRows);\n  };\n\n  VirtualFreezeRenderer.prototype.splitReorderedRows = function (rows) {\n    var frzCols = this.parent.getFrozenColumns();\n\n    for (var i = 0, len = rows.length; i < len; i++) {\n      if (this.frzeeLoad % 2 === 0) {\n        rows[i].cells = rows[i].cells.slice(frzCols, rows[i].cells.length);\n      } else {\n        rows[i].isFreezeRow = true;\n        rows[i].cells = rows[i].cells.slice(0, frzCols);\n      }\n    }\n\n    this.frzeeLoad++;\n    return rows;\n  };\n\n  VirtualFreezeRenderer.prototype.isXaxis = function () {\n    var value = false;\n\n    if (this.virtualRenderer) {\n      value = this.virtualRenderer.requestType === 'virtualscroll' && this.virtualRenderer.currentInfo.sentinelInfo.axis === 'X';\n    }\n\n    return value;\n  };\n\n  VirtualFreezeRenderer.prototype.getHeaderCells = function () {\n    var content = this.isXaxis() ? this.parent.getMovableVirtualHeader() : this.parent.getHeaderContent();\n    return content ? [].slice.call(content.querySelectorAll('.e-headercell:not(.e-stackedheadercell)')) : [];\n  };\n\n  VirtualFreezeRenderer.prototype.getVirtualFreezeHeader = function () {\n    var headerTable;\n\n    if (this.isXaxis()) {\n      headerTable = this.parent.getMovableVirtualHeader().querySelector('.e-table');\n    } else {\n      headerTable = this.parent.getFrozenVirtualHeader().querySelector('.e-table');\n    }\n\n    return headerTable;\n  };\n\n  VirtualFreezeRenderer.prototype.ensureFrozenCols = function (columns) {\n    var frozenCols = this.parent.columns.slice(0, this.parent.getFrozenColumns());\n    columns = frozenCols.concat(columns);\n    return columns;\n  };\n  /**\n   * @hidden\n   */\n\n\n  VirtualFreezeRenderer.prototype.getRowObjectByIndex = function (index) {\n    return this.virtualRenderer.getRowObjectByIndex(index);\n  };\n\n  return VirtualFreezeRenderer;\n}(FreezeContentRender);\n\nexport { VirtualFreezeRenderer };\n\nvar VirtualFreezeHdrRenderer =\n/** @class */\nfunction (_super) {\n  __extends(VirtualFreezeHdrRenderer, _super);\n\n  function VirtualFreezeHdrRenderer(parent, locator) {\n    var _this = _super.call(this, parent, locator) || this;\n\n    _this.serviceLoc = locator;\n    return _this;\n  }\n  /**\n   * @hidden\n   */\n\n\n  VirtualFreezeHdrRenderer.prototype.renderTable = function () {\n    this.virtualHdrRenderer = new VirtualHeaderRenderer(this.parent, this.serviceLoc);\n    this.virtualEle = this.virtualHdrRenderer.virtualEle;\n    this.virtualHdrRenderer.setPanel(this.parent.getHeaderContent());\n    this.virtualHdrRenderer.renderTable();\n    this.rfhMovable();\n    this.updateColgroup();\n    this.initializeHeaderDrag();\n    this.initializeHeaderDrop();\n    this.setTable(this.parent.element.querySelector('.e-frozenheader').querySelector('.e-table'));\n    this.parent.notify(events.headerRefreshed, {\n      rows: this.rows,\n      args: {\n        isFrozen: false\n      }\n    });\n  };\n\n  VirtualFreezeHdrRenderer.prototype.rfhMovable = function () {\n    var fvTbl = this.parent.getHeaderContent().querySelector('.e-virtualtable');\n    var fvTck = this.parent.getHeaderContent().querySelector('.e-virtualtrack');\n    this.getFrozenHeader().appendChild(fvTbl);\n    this.getFrozenHeader().appendChild(fvTck);\n    this.virtualHdrRenderer.virtualEle.table = this.createTable();\n    this.virtualHdrRenderer.virtualEle.renderWrapper();\n    this.virtualHdrRenderer.virtualEle.renderPlaceHolder();\n    var mvTbl = [].slice.call(this.parent.getHeaderContent().querySelectorAll('.e-virtualtable'));\n    var mvTck = [].slice.call(this.parent.getHeaderContent().querySelectorAll('.e-virtualtrack'));\n    this.getMovableHeader().appendChild(mvTbl[1]);\n    this.getMovableHeader().appendChild(mvTck[1]);\n  };\n  /**\n   * @hidden\n   */\n\n\n  VirtualFreezeHdrRenderer.prototype.getTable = function () {\n    return this.virtualHdrRenderer.getTable();\n  };\n\n  return VirtualFreezeHdrRenderer;\n}(FreezeRender);\n\nexport { VirtualFreezeHdrRenderer };","map":{"version":3,"sources":["/home/nikhil/Desktop/data_grid_editor-master/node_modules/@syncfusion/ej2-grids/src/grid/renderer/virtual-freeze-renderer.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","remove","extend","FreezeContentRender","FreezeRender","VirtualContentRenderer","VirtualHeaderRenderer","FreezeRowModelGenerator","events","VirtualFreezeRenderer","_super","parent","locator","_this","call","frzeeLoad","serviceLoc","renderTable","freezeRowGenerator","virtualRenderer","setPanel","getContent","virtualTable","querySelector","virtualTrack","style","position","getFrozenContent","appendChild","mTbl","cloneNode","mTblT","getMovableContent","colGroup","getMovableVirtualHeader","firstElementChild","insertBefore","setTable","element","appendContent","target","newChild","e","generateRows","data","notifyArgs","virtualRows","vgenerator","arr","map","row","firstPageRecords","rows","getRowByIndex","index","getMovableRowByIndex","getMovableVirtualRowByIndex","getMovableRows","getRows","getColGroup","mCol","getMovableVirtualContent","fCol","getFrozenVirtualContent","isXaxis","getReorderedFrozenRows","args","bIndex","virtualInfo","blockIndexes","colIndex","columnIndexes","page","renderMovableContent","splitReorderedRows","splice","frozenRows","frzCols","getFrozenColumns","i","len","length","cells","slice","isFreezeRow","value","requestType","currentInfo","sentinelInfo","axis","getHeaderCells","content","getHeaderContent","querySelectorAll","getVirtualFreezeHeader","headerTable","getFrozenVirtualHeader","ensureFrozenCols","columns","frozenCols","concat","getRowObjectByIndex","VirtualFreezeHdrRenderer","virtualHdrRenderer","virtualEle","rfhMovable","updateColgroup","initializeHeaderDrag","initializeHeaderDrop","notify","headerRefreshed","isFrozen","fvTbl","fvTck","getFrozenHeader","table","createTable","renderWrapper","renderPlaceHolder","mvTbl","mvTck","getMovableHeader","getTable"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { remove, extend } from '@syncfusion/ej2-base';\nimport { FreezeContentRender, FreezeRender } from './freeze-renderer';\nimport { VirtualContentRenderer, VirtualHeaderRenderer } from './virtual-content-renderer';\nimport { FreezeRowModelGenerator } from '../services/freeze-row-model-generator';\nimport * as events from '../base/constant';\n/**\n * VirtualFreezeRenderer is used to render the virtual table within the frozen table\n * @hidden\n */\nvar VirtualFreezeRenderer = /** @class */ (function (_super) {\n    __extends(VirtualFreezeRenderer, _super);\n    function VirtualFreezeRenderer(parent, locator) {\n        var _this = _super.call(this, parent, locator) || this;\n        _this.frzeeLoad = 1;\n        _this.serviceLoc = locator;\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    VirtualFreezeRenderer.prototype.renderTable = function () {\n        this.freezeRowGenerator = new FreezeRowModelGenerator(this.parent);\n        this.virtualRenderer = new VirtualContentRenderer(this.parent, this.serviceLoc);\n        this.virtualRenderer.setPanel(this.parent.getContent());\n        this.virtualRenderer.renderTable();\n        var virtualTable = this.parent.getContent().querySelector('.e-virtualtable');\n        var virtualTrack = this.parent.getContent().querySelector('.e-virtualtrack');\n        virtualTrack.style.position = '';\n        this.getFrozenContent().appendChild(virtualTable);\n        this.getFrozenContent().appendChild(virtualTrack);\n        var mTbl = virtualTable.cloneNode(true);\n        var mTblT = virtualTrack.cloneNode(true);\n        this.getMovableContent().appendChild(mTbl);\n        this.getMovableContent().appendChild(mTblT);\n        remove(this.getMovableContent().querySelector('colgroup'));\n        var colGroup = this.parent.getMovableVirtualHeader().querySelector('colgroup')\n            .cloneNode(true);\n        mTbl.firstElementChild.insertBefore(colGroup, mTbl.firstElementChild.querySelector('tbody'));\n        this.setTable(this.parent.element.querySelector('.e-frozencontent').querySelector('.e-table'));\n    };\n    /**\n     * @hidden\n     */\n    VirtualFreezeRenderer.prototype.appendContent = function (target, newChild, e) {\n        this.virtualRenderer.appendContent(target, newChild, e);\n    };\n    /**\n     * @hidden\n     */\n    VirtualFreezeRenderer.prototype.generateRows = function (data, notifyArgs) {\n        var virtualRows = this.virtualRenderer.vgenerator.generateRows(data, notifyArgs);\n        var arr = [];\n        arr = virtualRows.map(function (row) { return extend({}, row); });\n        if (!this.firstPageRecords) {\n            this.firstPageRecords = data;\n        }\n        var rows = this.freezeRowGenerator.generateRows(data, notifyArgs, arr);\n        return rows;\n    };\n    /**\n     * @hidden\n     */\n    VirtualFreezeRenderer.prototype.getRowByIndex = function (index) {\n        return this.virtualRenderer.getRowByIndex(index);\n    };\n    /**\n     * @hidden\n     */\n    VirtualFreezeRenderer.prototype.getMovableRowByIndex = function (index) {\n        return this.virtualRenderer.getMovableVirtualRowByIndex(index);\n    };\n    /**\n     * @hidden\n     */\n    VirtualFreezeRenderer.prototype.getMovableRows = function () {\n        return this.virtualRenderer.vgenerator.getRows();\n    };\n    /**\n     * @hidden\n     */\n    VirtualFreezeRenderer.prototype.getRows = function () {\n        return this.getMovableRows();\n    };\n    /**\n     * @hidden\n     */\n    VirtualFreezeRenderer.prototype.getColGroup = function () {\n        var mCol = this.parent.getMovableVirtualContent().querySelector('colgroup');\n        var fCol = this.parent.getFrozenVirtualContent().querySelector('colgroup');\n        var colGroup = this.isXaxis() ? mCol : fCol;\n        return colGroup;\n    };\n    /**\n     * @hidden\n     */\n    VirtualFreezeRenderer.prototype.getReorderedFrozenRows = function (args) {\n        var rows;\n        var bIndex = args.virtualInfo.blockIndexes;\n        var colIndex = args.virtualInfo.columnIndexes;\n        var page = args.virtualInfo.page;\n        args.virtualInfo.blockIndexes = [1, 2];\n        args.virtualInfo.page = 1;\n        if (!args.renderMovableContent) {\n            args.virtualInfo.columnIndexes = [];\n        }\n        var virtualRows = this.virtualRenderer.vgenerator.generateRows(this.firstPageRecords, args);\n        rows = this.splitReorderedRows(virtualRows);\n        args.virtualInfo.blockIndexes = bIndex;\n        args.virtualInfo.columnIndexes = colIndex;\n        args.virtualInfo.page = page;\n        return rows.splice(0, this.parent.frozenRows);\n    };\n    VirtualFreezeRenderer.prototype.splitReorderedRows = function (rows) {\n        var frzCols = this.parent.getFrozenColumns();\n        for (var i = 0, len = rows.length; i < len; i++) {\n            if (this.frzeeLoad % 2 === 0) {\n                rows[i].cells = rows[i].cells.slice(frzCols, rows[i].cells.length);\n            }\n            else {\n                rows[i].isFreezeRow = true;\n                rows[i].cells = rows[i].cells.slice(0, frzCols);\n            }\n        }\n        this.frzeeLoad++;\n        return rows;\n    };\n    VirtualFreezeRenderer.prototype.isXaxis = function () {\n        var value = false;\n        if (this.virtualRenderer) {\n            value = this.virtualRenderer.requestType === 'virtualscroll'\n                && this.virtualRenderer.currentInfo.sentinelInfo.axis === 'X';\n        }\n        return value;\n    };\n    VirtualFreezeRenderer.prototype.getHeaderCells = function () {\n        var content = this.isXaxis() ? this.parent.getMovableVirtualHeader() : this.parent.getHeaderContent();\n        return content ? [].slice.call(content.querySelectorAll('.e-headercell:not(.e-stackedheadercell)')) : [];\n    };\n    VirtualFreezeRenderer.prototype.getVirtualFreezeHeader = function () {\n        var headerTable;\n        if (this.isXaxis()) {\n            headerTable = this.parent.getMovableVirtualHeader().querySelector('.e-table');\n        }\n        else {\n            headerTable = this.parent.getFrozenVirtualHeader().querySelector('.e-table');\n        }\n        return headerTable;\n    };\n    VirtualFreezeRenderer.prototype.ensureFrozenCols = function (columns) {\n        var frozenCols = this.parent.columns.slice(0, this.parent.getFrozenColumns());\n        columns = frozenCols.concat(columns);\n        return columns;\n    };\n    /**\n     * @hidden\n     */\n    VirtualFreezeRenderer.prototype.getRowObjectByIndex = function (index) {\n        return this.virtualRenderer.getRowObjectByIndex(index);\n    };\n    return VirtualFreezeRenderer;\n}(FreezeContentRender));\nexport { VirtualFreezeRenderer };\nvar VirtualFreezeHdrRenderer = /** @class */ (function (_super) {\n    __extends(VirtualFreezeHdrRenderer, _super);\n    function VirtualFreezeHdrRenderer(parent, locator) {\n        var _this = _super.call(this, parent, locator) || this;\n        _this.serviceLoc = locator;\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    VirtualFreezeHdrRenderer.prototype.renderTable = function () {\n        this.virtualHdrRenderer = new VirtualHeaderRenderer(this.parent, this.serviceLoc);\n        this.virtualEle = this.virtualHdrRenderer.virtualEle;\n        this.virtualHdrRenderer.setPanel(this.parent.getHeaderContent());\n        this.virtualHdrRenderer.renderTable();\n        this.rfhMovable();\n        this.updateColgroup();\n        this.initializeHeaderDrag();\n        this.initializeHeaderDrop();\n        this.setTable(this.parent.element.querySelector('.e-frozenheader').querySelector('.e-table'));\n        this.parent.notify(events.headerRefreshed, { rows: this.rows, args: { isFrozen: false } });\n    };\n    VirtualFreezeHdrRenderer.prototype.rfhMovable = function () {\n        var fvTbl = this.parent.getHeaderContent().querySelector('.e-virtualtable');\n        var fvTck = this.parent.getHeaderContent().querySelector('.e-virtualtrack');\n        this.getFrozenHeader().appendChild(fvTbl);\n        this.getFrozenHeader().appendChild(fvTck);\n        this.virtualHdrRenderer.virtualEle.table = this.createTable();\n        this.virtualHdrRenderer.virtualEle.renderWrapper();\n        this.virtualHdrRenderer.virtualEle.renderPlaceHolder();\n        var mvTbl = [].slice.call(this.parent.getHeaderContent().querySelectorAll('.e-virtualtable'));\n        var mvTck = [].slice.call(this.parent.getHeaderContent().querySelectorAll('.e-virtualtrack'));\n        this.getMovableHeader().appendChild(mvTbl[1]);\n        this.getMovableHeader().appendChild(mvTck[1]);\n    };\n    /**\n     * @hidden\n     */\n    VirtualFreezeHdrRenderer.prototype.getTable = function () {\n        return this.virtualHdrRenderer.getTable();\n    };\n    return VirtualFreezeHdrRenderer;\n}(FreezeRender));\nexport { VirtualFreezeHdrRenderer };\n"]},"metadata":{},"sourceType":"module"}