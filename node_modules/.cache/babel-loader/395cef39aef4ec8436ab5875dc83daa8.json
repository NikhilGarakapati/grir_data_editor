{"ast":null,"code":"import { extend } from '@syncfusion/ej2-base';\nimport { remove, isNullOrUndefined, isBlazor } from '@syncfusion/ej2-base';\nimport { Pager } from '../../pager/pager';\nimport { PagerDropDown } from '../../pager/pager-dropdown';\nimport { ExternalMessage } from '../../pager/external-message';\nimport { extend as gridExtend, getActualProperties, isActionPrevent } from '../base/util';\nimport * as events from '../base/constant';\n/**\n * The `Page` module is used to render pager and handle paging action.\n */\n\nvar Page =\n/** @class */\nfunction () {\n  /**\n   * Constructor for the Grid paging module\n   * @hidden\n   */\n  function Page(parent, pageSettings) {\n    Pager.Inject(ExternalMessage, PagerDropDown);\n    this.parent = parent;\n    this.pageSettings = pageSettings;\n    this.addEventListener();\n  }\n  /**\n   * For internal use only - Get the module name.\n   * @private\n   */\n\n\n  Page.prototype.getModuleName = function () {\n    return 'pager';\n  };\n  /**\n   * The function used to render pager from grid pageSettings\n   * @return {void}\n   * @hidden\n   */\n\n\n  Page.prototype.render = function () {\n    var gObj = this.parent;\n    var pagerObj;\n    this.pagerDestroy();\n\n    if (!isNullOrUndefined(this.parent.pagerTemplate)) {\n      this.pageSettings.template = this.parent.pagerTemplate;\n      this.parent.pageTemplateChange = true;\n    }\n\n    this.element = this.parent.createElement('div', {\n      className: 'e-gridpager'\n    });\n    pagerObj = gridExtend({}, extend({}, getActualProperties(this.pageSettings)), {\n      click: this.clickHandler.bind(this),\n      dropDownChanged: this.onSelect.bind(this),\n      enableRtl: gObj.enableRtl,\n      locale: gObj.locale,\n      created: this.addAriaAttr.bind(this)\n    }, ['parentObj', 'propName']);\n    this.pagerObj = new Pager(pagerObj);\n    this.pagerObj.allowServerDataBinding = false;\n  };\n\n  Page.prototype.onSelect = function (e) {\n    this.pageSettings.pageSize = e.pageSize;\n\n    if (!this.isInitialLoad) {\n      this.pageSettings.currentPage = 1;\n    }\n  };\n\n  Page.prototype.addAriaAttr = function () {\n    if (!this.pageSettings.template) {\n      var numericContainerNew = this.parent.createElement('div', {\n        className: 'e-numericcontainer'\n      });\n      var pagerContainer = this.element.querySelector('.e-pagercontainer');\n      var frag = document.createDocumentFragment();\n      var numericContainer = this.element.querySelector('.e-numericcontainer');\n      var links = numericContainer.querySelectorAll('a');\n\n      for (var i = 0; i < links.length; i++) {\n        if (this.parent.getContentTable()) {\n          links[i].setAttribute('aria-owns', this.parent.getContentTable().id);\n        } else {\n          links[i].setAttribute('aria-owns', this.parent.element.getAttribute('id') + '_content_table');\n        }\n\n        var numericContainerDiv = this.parent.createElement('div');\n        numericContainerDiv.appendChild(links[i]);\n        frag.appendChild(numericContainerDiv);\n      }\n\n      numericContainerNew.appendChild(frag);\n      pagerContainer.replaceChild(numericContainerNew, numericContainer);\n      var classList = ['.e-mfirst', '.e-mprev', '.e-first', '.e-prev', '.e-next', '.e-last', '.e-mnext', '.e-mlast'];\n\n      for (var j = 0; j < classList.length; j++) {\n        var element = this.element.querySelector(classList[j]);\n\n        if (this.parent.getContentTable()) {\n          element.setAttribute('aria-owns', this.parent.getContentTable().id);\n        }\n      }\n    }\n  };\n\n  Page.prototype.dataReady = function (e) {\n    this.updateModel(e);\n  };\n  /**\n   * Refreshes the page count, pager information, and external message.\n   * @return {void}\n   */\n\n\n  Page.prototype.refresh = function () {\n    this.pagerObj.refresh();\n  };\n  /**\n   * Navigates to the target page according to the given number.\n   * @param  {number} pageNo - Defines the page number to navigate.\n   * @return {void}\n   */\n\n\n  Page.prototype.goToPage = function (pageNo) {\n    this.pagerObj.goToPage(pageNo);\n  };\n  /**\n   * @hidden\n   */\n\n\n  Page.prototype.setPageSize = function (pageSize) {\n    this.pagerObj.setPageSize(pageSize);\n  };\n  /**\n   * The function used to update pageSettings model\n   * @return {void}\n   * @hidden\n   */\n\n\n  Page.prototype.updateModel = function (e) {\n    this.parent.pageSettings.totalRecordsCount = e.count;\n    this.parent.dataBind();\n  };\n  /**\n   * The function used to trigger onActionComplete\n   * @return {void}\n   * @hidden\n   */\n\n\n  Page.prototype.onActionComplete = function (e) {\n    if (isBlazor() && !this.parent.isJsComponent) {\n      e.rows = null;\n    }\n\n    this.parent.trigger(events.actionComplete, extend(e, {\n      currentPage: this.parent.pageSettings.currentPage,\n      requestType: 'paging',\n      type: events.actionComplete\n    }));\n  };\n  /**\n   * @hidden\n   */\n\n\n  Page.prototype.onPropertyChanged = function (e) {\n    if (e.module !== this.getModuleName()) {\n      return;\n    }\n\n    var newProp = e.properties;\n\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n      this.pagerObj[prop] = newProp[prop];\n    }\n\n    this.pagerObj.dataBind();\n  };\n\n  Page.prototype.clickHandler = function (e) {\n    var gObj = this.parent;\n\n    if (this.isForceCancel || isActionPrevent(gObj) && !gObj.prevPageMoving) {\n      if (!this.isForceCancel) {\n        if (!isNullOrUndefined(e.newProp) && !isNullOrUndefined(e.newProp.pageSize)) {\n          gObj.notify(events.preventBatch, {\n            instance: this,\n            handler: this.setPageSize,\n            arg1: e.newProp.pageSize\n          });\n          this.pagerObj.pageSize = e.oldProp.pageSize;\n          gObj.pageSettings.pageSize = e.newProp.pageSize;\n        } else if (e.currentPage) {\n          gObj.notify(events.preventBatch, {\n            instance: this,\n            handler: this.goToPage,\n            arg1: e.currentPage\n          });\n          this.pagerObj.currentPage = gObj.pageSettings.currentPage === this.pagerObj.currentPage ? this.pagerObj.previousPageNo : gObj.pageSettings.currentPage;\n        }\n\n        this.isForceCancel = true;\n        this.pagerObj.dataBind();\n      } else {\n        this.isForceCancel = false;\n      }\n\n      e.cancel = true;\n      return;\n    }\n\n    gObj.pageSettings.pageSize = this.pagerObj.pageSize;\n    gObj.prevPageMoving = false;\n    var prevPage = this.pageSettings.currentPage;\n    this.pageSettings.currentPage = e.currentPage;\n    this.parent.notify(events.modelChanged, {\n      requestType: 'paging',\n      previousPage: prevPage,\n      currentPage: e.currentPage,\n      type: events.actionBegin\n    });\n    this.parent.requestTypeAction = 'paging';\n  };\n\n  Page.prototype.keyPressHandler = function (e) {\n    if (e.action in keyActions) {\n      e.preventDefault();\n      this.element.querySelector(keyActions[e.action]).click();\n    }\n  };\n  /**\n   * Defines the text of the external message.\n   * @param  {string} message - Defines the message to update.\n   * @return {void}\n   */\n\n\n  Page.prototype.updateExternalMessage = function (message) {\n    if (!this.pagerObj.enableExternalMessage) {\n      this.pagerObj.enableExternalMessage = true;\n      this.pagerObj.dataBind();\n    }\n\n    this.pagerObj.externalMessage = message;\n    this.pagerObj.dataBind();\n  };\n\n  Page.prototype.appendToElement = function (e) {\n    this.isInitialLoad = true;\n    this.parent.element.appendChild(this.element);\n    this.parent.setGridPager(this.element);\n    this.pagerObj.appendTo(this.element);\n    this.isInitialLoad = false;\n  };\n\n  Page.prototype.enableAfterRender = function (e) {\n    if (e.module === this.getModuleName() && e.enable) {\n      this.render();\n      this.appendToElement();\n    }\n  };\n  /**\n   * @hidden\n   */\n\n\n  Page.prototype.addEventListener = function () {\n    this.handlers = {\n      load: this.render,\n      end: this.appendToElement,\n      ready: this.dataReady,\n      complete: this.onActionComplete,\n      updateLayout: this.enableAfterRender,\n      inboundChange: this.onPropertyChanged,\n      keyPress: this.keyPressHandler\n    };\n\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.parent.on(events.initialLoad, this.handlers.load, this);\n    this.parent.on(events.initialEnd, this.handlers.end, this); //For initial rendering\n\n    this.parent.on(events.dataReady, this.handlers.ready, this);\n    this.parent.on(events.pageComplete, this.handlers.complete, this);\n    this.parent.on(events.uiUpdate, this.handlers.updateLayout, this);\n    this.parent.on(events.inBoundModelChanged, this.handlers.inboundChange, this);\n    this.parent.on(events.keyPressed, this.handlers.keyPress, this);\n  };\n  /**\n   * @hidden\n   */\n\n\n  Page.prototype.removeEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.parent.off(events.initialLoad, this.handlers.load);\n    this.parent.off(events.initialEnd, this.handlers.end); //For initial rendering\n\n    this.parent.off(events.dataReady, this.handlers.ready);\n    this.parent.off(events.pageComplete, this.handlers.complete);\n    this.parent.off(events.uiUpdate, this.handlers.updateLayout);\n    this.parent.off(events.inBoundModelChanged, this.handlers.inboundChange);\n    this.parent.off(events.keyPressed, this.handlers.keyPress);\n  };\n  /**\n   * To destroy the pager\n   * @return {void}\n   * @hidden\n   */\n\n\n  Page.prototype.destroy = function () {\n    this.removeEventListener();\n    this.pagerDestroy();\n  };\n\n  Page.prototype.pagerDestroy = function () {\n    if (this.pagerObj && !this.pagerObj.isDestroyed) {\n      this.pagerObj.destroy();\n      remove(this.element);\n    }\n  };\n\n  return Page;\n}();\n\nexport { Page };\n/**\n * @hidden\n */\n\nvar keyActions = {\n  pageUp: '.e-prev',\n  pageDown: '.e-next',\n  ctrlAltPageDown: '.e-last',\n  ctrlAltPageUp: '.e-first',\n  altPageUp: '.e-pp',\n  altPageDown: '.e-np'\n};","map":{"version":3,"sources":["/home/nikhil/Desktop/data_grid_editor-master/node_modules/@syncfusion/ej2-grids/src/grid/actions/page.js"],"names":["extend","remove","isNullOrUndefined","isBlazor","Pager","PagerDropDown","ExternalMessage","gridExtend","getActualProperties","isActionPrevent","events","Page","parent","pageSettings","Inject","addEventListener","prototype","getModuleName","render","gObj","pagerObj","pagerDestroy","pagerTemplate","template","pageTemplateChange","element","createElement","className","click","clickHandler","bind","dropDownChanged","onSelect","enableRtl","locale","created","addAriaAttr","allowServerDataBinding","e","pageSize","isInitialLoad","currentPage","numericContainerNew","pagerContainer","querySelector","frag","document","createDocumentFragment","numericContainer","links","querySelectorAll","i","length","getContentTable","setAttribute","id","getAttribute","numericContainerDiv","appendChild","replaceChild","classList","j","dataReady","updateModel","refresh","goToPage","pageNo","setPageSize","totalRecordsCount","count","dataBind","onActionComplete","isJsComponent","rows","trigger","actionComplete","requestType","type","onPropertyChanged","module","newProp","properties","_i","_a","Object","keys","prop","isForceCancel","prevPageMoving","notify","preventBatch","instance","handler","arg1","oldProp","previousPageNo","cancel","prevPage","modelChanged","previousPage","actionBegin","requestTypeAction","keyPressHandler","action","keyActions","preventDefault","updateExternalMessage","message","enableExternalMessage","externalMessage","appendToElement","setGridPager","appendTo","enableAfterRender","enable","handlers","load","end","ready","complete","updateLayout","inboundChange","keyPress","isDestroyed","on","initialLoad","initialEnd","pageComplete","uiUpdate","inBoundModelChanged","keyPressed","removeEventListener","off","destroy","pageUp","pageDown","ctrlAltPageDown","ctrlAltPageUp","altPageUp","altPageDown"],"mappings":"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","sourcesContent":["import { extend } from '@syncfusion/ej2-base';\nimport { remove, isNullOrUndefined, isBlazor } from '@syncfusion/ej2-base';\nimport { Pager } from '../../pager/pager';\nimport { PagerDropDown } from '../../pager/pager-dropdown';\nimport { ExternalMessage } from '../../pager/external-message';\nimport { extend as gridExtend, getActualProperties, isActionPrevent } from '../base/util';\nimport * as events from '../base/constant';\n/**\n * The `Page` module is used to render pager and handle paging action.\n */\nvar Page = /** @class */ (function () {\n    /**\n     * Constructor for the Grid paging module\n     * @hidden\n     */\n    function Page(parent, pageSettings) {\n        Pager.Inject(ExternalMessage, PagerDropDown);\n        this.parent = parent;\n        this.pageSettings = pageSettings;\n        this.addEventListener();\n    }\n    /**\n     * For internal use only - Get the module name.\n     * @private\n     */\n    Page.prototype.getModuleName = function () {\n        return 'pager';\n    };\n    /**\n     * The function used to render pager from grid pageSettings\n     * @return {void}\n     * @hidden\n     */\n    Page.prototype.render = function () {\n        var gObj = this.parent;\n        var pagerObj;\n        this.pagerDestroy();\n        if (!isNullOrUndefined(this.parent.pagerTemplate)) {\n            this.pageSettings.template = this.parent.pagerTemplate;\n            this.parent.pageTemplateChange = true;\n        }\n        this.element = this.parent.createElement('div', { className: 'e-gridpager' });\n        pagerObj = gridExtend({}, extend({}, getActualProperties(this.pageSettings)), {\n            click: this.clickHandler.bind(this),\n            dropDownChanged: this.onSelect.bind(this),\n            enableRtl: gObj.enableRtl, locale: gObj.locale,\n            created: this.addAriaAttr.bind(this)\n        }, ['parentObj', 'propName']);\n        this.pagerObj = new Pager(pagerObj);\n        this.pagerObj.allowServerDataBinding = false;\n    };\n    Page.prototype.onSelect = function (e) {\n        this.pageSettings.pageSize = e.pageSize;\n        if (!this.isInitialLoad) {\n            this.pageSettings.currentPage = 1;\n        }\n    };\n    Page.prototype.addAriaAttr = function () {\n        if (!(this.pageSettings.template)) {\n            var numericContainerNew = this.parent.createElement('div', { className: 'e-numericcontainer' });\n            var pagerContainer = this.element.querySelector('.e-pagercontainer');\n            var frag = document.createDocumentFragment();\n            var numericContainer = this.element.querySelector('.e-numericcontainer');\n            var links = numericContainer.querySelectorAll('a');\n            for (var i = 0; i < links.length; i++) {\n                if (this.parent.getContentTable()) {\n                    links[i].setAttribute('aria-owns', this.parent.getContentTable().id);\n                }\n                else {\n                    links[i].setAttribute('aria-owns', this.parent.element.getAttribute('id') + '_content_table');\n                }\n                var numericContainerDiv = this.parent.createElement('div');\n                numericContainerDiv.appendChild(links[i]);\n                frag.appendChild(numericContainerDiv);\n            }\n            numericContainerNew.appendChild(frag);\n            pagerContainer.replaceChild(numericContainerNew, numericContainer);\n            var classList = ['.e-mfirst', '.e-mprev', '.e-first', '.e-prev', '.e-next', '.e-last', '.e-mnext', '.e-mlast'];\n            for (var j = 0; j < classList.length; j++) {\n                var element = this.element.querySelector(classList[j]);\n                if (this.parent.getContentTable()) {\n                    element.setAttribute('aria-owns', this.parent.getContentTable().id);\n                }\n            }\n        }\n    };\n    Page.prototype.dataReady = function (e) {\n        this.updateModel(e);\n    };\n    /**\n     * Refreshes the page count, pager information, and external message.\n     * @return {void}\n     */\n    Page.prototype.refresh = function () {\n        this.pagerObj.refresh();\n    };\n    /**\n     * Navigates to the target page according to the given number.\n     * @param  {number} pageNo - Defines the page number to navigate.\n     * @return {void}\n     */\n    Page.prototype.goToPage = function (pageNo) {\n        this.pagerObj.goToPage(pageNo);\n    };\n    /**\n     * @hidden\n     */\n    Page.prototype.setPageSize = function (pageSize) {\n        this.pagerObj.setPageSize(pageSize);\n    };\n    /**\n     * The function used to update pageSettings model\n     * @return {void}\n     * @hidden\n     */\n    Page.prototype.updateModel = function (e) {\n        this.parent.pageSettings.totalRecordsCount = e.count;\n        this.parent.dataBind();\n    };\n    /**\n     * The function used to trigger onActionComplete\n     * @return {void}\n     * @hidden\n     */\n    Page.prototype.onActionComplete = function (e) {\n        if (isBlazor() && !this.parent.isJsComponent) {\n            e.rows = null;\n        }\n        this.parent.trigger(events.actionComplete, extend(e, {\n            currentPage: this.parent.pageSettings.currentPage, requestType: 'paging',\n            type: events.actionComplete\n        }));\n    };\n    /**\n     * @hidden\n     */\n    Page.prototype.onPropertyChanged = function (e) {\n        if (e.module !== this.getModuleName()) {\n            return;\n        }\n        var newProp = e.properties;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            this.pagerObj[prop] = newProp[prop];\n        }\n        this.pagerObj.dataBind();\n    };\n    Page.prototype.clickHandler = function (e) {\n        var gObj = this.parent;\n        if (this.isForceCancel || isActionPrevent(gObj) && !gObj.prevPageMoving) {\n            if (!this.isForceCancel) {\n                if (!isNullOrUndefined(e.newProp) && !isNullOrUndefined(e.newProp.pageSize)) {\n                    gObj.notify(events.preventBatch, { instance: this, handler: this.setPageSize, arg1: e.newProp.pageSize });\n                    this.pagerObj.pageSize = e.oldProp.pageSize;\n                    gObj.pageSettings.pageSize = e.newProp.pageSize;\n                }\n                else if (e.currentPage) {\n                    gObj.notify(events.preventBatch, { instance: this, handler: this.goToPage, arg1: e.currentPage });\n                    this.pagerObj.currentPage = gObj.pageSettings.currentPage === this.pagerObj.currentPage ?\n                        this.pagerObj.previousPageNo : gObj.pageSettings.currentPage;\n                }\n                this.isForceCancel = true;\n                this.pagerObj.dataBind();\n            }\n            else {\n                this.isForceCancel = false;\n            }\n            e.cancel = true;\n            return;\n        }\n        gObj.pageSettings.pageSize = this.pagerObj.pageSize;\n        gObj.prevPageMoving = false;\n        var prevPage = this.pageSettings.currentPage;\n        this.pageSettings.currentPage = e.currentPage;\n        this.parent.notify(events.modelChanged, {\n            requestType: 'paging',\n            previousPage: prevPage,\n            currentPage: e.currentPage,\n            type: events.actionBegin\n        });\n        this.parent.requestTypeAction = 'paging';\n    };\n    Page.prototype.keyPressHandler = function (e) {\n        if (e.action in keyActions) {\n            e.preventDefault();\n            this.element.querySelector(keyActions[e.action]).click();\n        }\n    };\n    /**\n     * Defines the text of the external message.\n     * @param  {string} message - Defines the message to update.\n     * @return {void}\n     */\n    Page.prototype.updateExternalMessage = function (message) {\n        if (!this.pagerObj.enableExternalMessage) {\n            this.pagerObj.enableExternalMessage = true;\n            this.pagerObj.dataBind();\n        }\n        this.pagerObj.externalMessage = message;\n        this.pagerObj.dataBind();\n    };\n    Page.prototype.appendToElement = function (e) {\n        this.isInitialLoad = true;\n        this.parent.element.appendChild(this.element);\n        this.parent.setGridPager(this.element);\n        this.pagerObj.appendTo(this.element);\n        this.isInitialLoad = false;\n    };\n    Page.prototype.enableAfterRender = function (e) {\n        if (e.module === this.getModuleName() && e.enable) {\n            this.render();\n            this.appendToElement();\n        }\n    };\n    /**\n     * @hidden\n     */\n    Page.prototype.addEventListener = function () {\n        this.handlers = {\n            load: this.render,\n            end: this.appendToElement,\n            ready: this.dataReady,\n            complete: this.onActionComplete,\n            updateLayout: this.enableAfterRender,\n            inboundChange: this.onPropertyChanged,\n            keyPress: this.keyPressHandler\n        };\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.initialLoad, this.handlers.load, this);\n        this.parent.on(events.initialEnd, this.handlers.end, this); //For initial rendering\n        this.parent.on(events.dataReady, this.handlers.ready, this);\n        this.parent.on(events.pageComplete, this.handlers.complete, this);\n        this.parent.on(events.uiUpdate, this.handlers.updateLayout, this);\n        this.parent.on(events.inBoundModelChanged, this.handlers.inboundChange, this);\n        this.parent.on(events.keyPressed, this.handlers.keyPress, this);\n    };\n    /**\n     * @hidden\n     */\n    Page.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.initialLoad, this.handlers.load);\n        this.parent.off(events.initialEnd, this.handlers.end); //For initial rendering\n        this.parent.off(events.dataReady, this.handlers.ready);\n        this.parent.off(events.pageComplete, this.handlers.complete);\n        this.parent.off(events.uiUpdate, this.handlers.updateLayout);\n        this.parent.off(events.inBoundModelChanged, this.handlers.inboundChange);\n        this.parent.off(events.keyPressed, this.handlers.keyPress);\n    };\n    /**\n     * To destroy the pager\n     * @return {void}\n     * @hidden\n     */\n    Page.prototype.destroy = function () {\n        this.removeEventListener();\n        this.pagerDestroy();\n    };\n    Page.prototype.pagerDestroy = function () {\n        if (this.pagerObj && !this.pagerObj.isDestroyed) {\n            this.pagerObj.destroy();\n            remove(this.element);\n        }\n    };\n    return Page;\n}());\nexport { Page };\n/**\n * @hidden\n */\nvar keyActions = {\n    pageUp: '.e-prev',\n    pageDown: '.e-next',\n    ctrlAltPageDown: '.e-last',\n    ctrlAltPageUp: '.e-first',\n    altPageUp: '.e-pp',\n    altPageDown: '.e-np'\n};\n"]},"metadata":{},"sourceType":"module"}